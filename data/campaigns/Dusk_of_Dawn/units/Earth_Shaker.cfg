#textdomain wesnoth-dod

[unit_type]
    id=Troll Earth Shaker
    name= _ "Troll Earth-Shaker"
    race=troll
    image="units/trolls/earth-shaker.png"
    profile=portraits/trolls/troll-rocklobber.webp
    hitpoints=62
    movement_type=largefoot
    movement=5
    experience=150
    level=3
    alignment=chaotic
    advances_to=null
    {AMLA_DEFAULT}
    cost=45
    usage=mixed fighter
    description= _ "A brave few adventurers claim to have seen enormous trolls tearing huge boulders from the ground with their bare hands and throwing them like pebbles. They also claim that anyone who has had the honor of seeing such a troll will think twice before entering a cave alone."
    die_sound={SOUND_LIST:TROLL_DIE}
    [abilities]
        {ABILITY_REGENERATES}
    [/abilities]
    [attack]
        name=fist
        description=_"fist"
        icon=attacks/fist-troll.png
        type=impact
        range=melee
        damage=12
        number=2
    [/attack]
    [attack]
        name=sling
        description=_"sling"
        type=impact
        range=ranged
        damage=22
        number=1
        [specials]
            {WEAPON_SPECIAL_STUN}
        [/specials]
    [/attack]
    {DEFENSE_ANIM "units/trolls/earth-shaker-defend.png" "units/trolls/earth-shaker.png" {SOUND_LIST:TROLL_HIT} }
    [attack_anim]
        [filter_attack]
            name=sling
        [/filter_attack]

        start_time=-1000
        offset=0

        sling_stone_start_time=-800
        [if]
            hits=yes
            [sling_stone_frame]
                halo="projectiles/stone-large.png:800"
                halo_x=24~0
                halo_y=0~-10,-10~-18,-18~-22,-22~-24,-24~-25,-25~-24,-24~-22,-22~-18,-18~-10,-10~-0
                offset=0.0~1.0
            [/sling_stone_frame]

            [frame]
                image="units/trolls/earth-shaker-attack-ranged.png:200"
                sound=sling-big.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [sling_stone_frame]
                halo="projectiles/stone-large.png:900"
                halo_x=24~0
                halo_y=0~-10,-10~-16,-16~-20,-20~-22,-22~-20,-20~-16,-16~-10,-10~0,0~-4,-4~0,0~-2,-2~0
                offset=0.0~1.5
            [/sling_stone_frame]

            [frame]
                image="units/trolls/earth-shaker-attack-ranged.png:200"
                sound=sling-big-miss.ogg
            [/frame]
        [/else]
        [frame]
            image="units/trolls/earth-shaker.png:100"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fist
        [/filter_attack]
        start_time=-200
        [frame]
            image="units/trolls/earth-shaker.png:50"
        [/frame]
        [frame]
            image="units/trolls/earth-shaker-attack-melee.png:250"
        [/frame]
        {SOUND:HIT_AND_MISS fist.ogg {SOUND_LIST:MISS} -150}
        [frame]
            image="units/trolls/earth-shaker.png:100"
        [/frame]
    [/attack_anim]
[/unit_type]
