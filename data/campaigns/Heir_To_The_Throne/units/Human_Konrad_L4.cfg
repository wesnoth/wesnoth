#textdomain wesnoth-h2tt

#define HTTT_LORD DIR AFFIX
    name= _ "Warrior Prince"
    race=human
    num_traits=0
    image="units/konrad/{DIR}konrad-lord{AFFIX}.png"
    hitpoints=75
    [abilities]
        {ABILITY_LEADERSHIP}
    [/abilities]
    {LEADING_ANIM "units/konrad/{DIR}konrad-lord{AFFIX}-leading.png" "units/konrad/{DIR}konrad-lord{AFFIX}.png" -16,-21}
    movement=5
    movement_type=smallfoot
    {LESS_NIMBLE_ELF} # reflecting his elven heritage
    level=4
    experience=200
    alignment=lawful
    advances_to=null {AMLA_DEFAULT}
    usage=mixed fighter
    die_sound={SOUND_LIST:HUMAN_DIE}
    description= _ "Princes bear one of the most esteemed titles in human society. Trained rigorously in the combat arts even in times of peace, a prince in times of war makes for an awe-inspiring sight on the battlefield. These royal commanders have survived many trials by fire, proving both their tactical wit and their considerable mettle at personal combat."
    {DEFENSE_ANIM_RANGE    "units/konrad/{DIR}konrad-lord{AFFIX}-defend.png"  "units/konrad/{DIR}konrad-lord{AFFIX}-attack-w1.png" {SOUND_LIST:HUMAN_HIT} melee}
    {DEFENSE_ANIM_FILTERED "units/konrad/{DIR}konrad-lord-scepter-defend.png" "units/konrad/{DIR}konrad-lord-scepter.png" {SOUND_LIST:HUMAN_HIT} (
        [filter_second_attack]
            name=sceptre of fire
        [/filter_second_attack]
    )}
    {DEFENSE_ANIM_FILTERED "units/konrad/{DIR}konrad-lord-bow-defend.png" "units/konrad/{DIR}konrad-lord-bow.png" {SOUND_LIST:HUMAN_HIT} (
        [filter_second_attack]
            name=bow
        [/filter_second_attack]
    )}
    # if konrad is on water, and has the seafarer's sandals item,
    # show only his toes submerged instead of his whole body
    [standing_anim]
        [filter]
            {FILTER_WML_OBJECT_ID sandals}
            {FILTER_LOCATION terrain=W*^*,Ss*^*,Sm*^*}
            {NOT({FILTER_LOCATION terrain=*^B*,S*^V*})}
        [/filter]
        start_time=0
        {FRAME image="units/konrad/{DIR}konrad-lord{AFFIX}.png"}
        submerge=0.25
    [/standing_anim]
    [standing_anim]
        start_time=0
        {FRAME image="units/konrad/{DIR}konrad-lord{AFFIX}.png"}
    [/standing_anim]
    [attack]
        name=sword
        #textdomain wesnoth-units
        description= _"sword"
        icon=attacks/greatsword-human.png
        type=blade
        range=melee
        damage=11
        number=4
    [/attack]
    [attack]
        name=bow
        description= _"bow"
        #textdomain wesnoth-h2tt
        icon=attacks/bow-elven.png
        type=pierce
        range=ranged
        damage=10
        number=3
    [/attack]
    [attack_anim]
        [filter_attack]
            name=sword
        [/filter_attack]
        direction=nw,n,ne
        start_time=-175
        [frame]
            image="units/konrad/{DIR}konrad-lord{AFFIX}-attack-w[1,3,1].png:[100,200,75]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND_LIST:SWORD_SWISH} {SOUND_LIST:MISS} -75}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=sword
        [/filter_attack]
        direction=sw,s,se
        start_time=-175
        [frame]
            image="units/konrad/{DIR}konrad-lord{AFFIX}-attack-w[1,2,1].png:[100,200,75]"
        [/frame]
        {SOUND:HIT_AND_MISS {SOUND_LIST:SWORD_SWISH} {SOUND_LIST:MISS} -75}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=bow
        [/filter_attack]
        missile_start_time=-150
        start_time=-475
        [missile_frame]
            duration=150
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            image="units/konrad/{DIR}konrad-lord-bow.png:75"
        [/frame]
        [frame]
            image="units/konrad/{DIR}konrad-lord-bow-attack[1~4].png:75"
        [/frame]
        [frame]
            image="units/konrad/{DIR}konrad-lord-bow.png:100"
        [/frame]
        {SOUND:HIT_AND_MISS bow.ogg bow-miss.ogg -275}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=sceptre of fire
        [/filter_attack]
        {MISSILE_FRAME_FIREBALL_XY -16 -21}
        start_time=-300
        [frame]
            sound=fire.wav
            image="units/konrad/{DIR}konrad-lord-scepter-leading.png:200"
        [/frame]
    [/attack_anim]
#enddef

[unit_type]
    id=Warrior Prince
    {HTTT_LORD () ()}
    cost=100

    [variation]
        {HTTT_LORD (bloodaxe/) ()}
        variation_id=bloodaxe
        variation_name= _ "with axe"
        hide_help=yes
        cost=120
    [/variation]

    [variation]
        {HTTT_LORD () (-scepter)}
        variation_id=sceptre
        variation_name= _ "with sceptre"
        hide_help=yes
        cost=150
    [/variation]

    [variation]
        {HTTT_LORD (bloodaxe/) (-scepter)}
        variation_id=bloodaxe_sceptre
        variation_name= _ "with axe and sceptre"
        hide_help=yes
        cost=170
    [/variation]
[/unit_type]
#undef HTTT_LORD
