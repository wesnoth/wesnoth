#textdomain wesnoth-lib
###
### Main game preferences dialog.
###

#define _GUI_INFO_TAB_PADDING
	[column]
		border = all
		border_size = 5

		[spacer]
			width = 10
		[/spacer]

	[/column]
#enddef

#define _GUI_PREFERENCES_MAIN_COMPOSITE_SLIDER _LABEL_TEXT _SLIDER_ID _SLIDER_ATTRIBUTES
	[grid]
		[row]
			[column]
				horizontal_grow = true
				[grid]
					[row]
						[column]
							grow_factor = 0
							border = "top,left,right"
							border_size = 5
							horizontal_alignment = "left"

							[label]
								id = "help_text"
								definition = "default_small"
								label = {_LABEL_TEXT}
							[/label]
						[/column]

						[column]
							grow_factor = 1
							border = "top,right"
							border_size = 5
							horizontal_grow = true

							[label]
								id = {_SLIDER_ID} + "_label"
								definition = "default_small"
							[/label]
						[/column]
					[/row]
				[/grid]
			[/column]
		[/row]
		[row]
			[column]
				border = "all"
				border_size = 5
				horizontal_grow = true

				[slider]
					id = {_SLIDER_ID}
					definition = "minimal"
					{_SLIDER_ATTRIBUTES}
				[/slider]
			[/column]
		[/row]
	[/grid]
#enddef

[window]
	id = "preferences_dialog"
	description = "Main game preferences dialog."

	[resolution]
		definition = "default"

		# The hotkey list will always want to be as tall as possible, which causes a lot of blank space on the other tabs. Limit the height so that the "General" tab fits the content tightly with non-HDPI fonts, and looks reasonable with HDPI fonts.
		maximum_height = 650

		[linked_group]
			id = "page_icon"
			fixed_width = true
			fixed_height = true
		[/linked_group]

		[linked_group]
			id = "page_label"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "tabs"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "friends"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "advanced_pref_name"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "advanced_pref_value"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "hotkeys_col_icon"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "hotkeys_col_desc"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "hotkeys_col_hotkey"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "hotkeys_col_type"
			fixed_width = true
		[/linked_group]

		[linked_group]
			id = "hotkeys_categories"
			fixed_width = true
		[/linked_group]

		[tooltip]
			id = "tooltip"
		[/tooltip]

		[helptip]
			id = "tooltip"
		[/helptip]

		[grid]

			[row]
				grow_factor = 0

				[column]
					grow_factor = 1

					border = "all"
					border_size = 5
					horizontal_alignment = "left"
					[label]
						id =  "title"
						definition = "title"
						label = _ "Preferences"
					[/label]
				[/column]

			[/row]

			[row]
				grow_factor = 1

				[column]
					grow_factor = 1
					horizontal_grow = true
					vertical_grow = true

					[tab_container]
						id = "pager"
						{./preferences}
					[/tab_container]

				[/column]
			[/row]

			[row]
				[column]
					horizontal_grow = true
					[grid]
						[row]
							[column]
								horizontal_alignment = "left"
								border = "all"
								border_size = 5

								[button]
									id = "about"
									definition = "action_about"
									tooltip = _ "Display the game version and build information"
								[/button]
							[/column]

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "right"

								[button]
									id = "ok"
									definition = "default"
									label = _ "Close"
								[/button]
							[/column]
						[/row]
					[/grid]
				[/column]
			[/row]
		[/grid]

	[/resolution]

[/window]

#undef _GUI_PREFS_PLACEHOLDER
#undef _GUI_PREFS_PAGE1
#undef _GUI_PREFS_PAGE2
#undef _GUI_PREFS_PAGE3
#undef _GUI_PREFS_PAGE4
#undef _GUI_PREFS_PAGE5
#undef _GUI_PREFS_PAGE
#undef _GUI_PREFERENCES_MAIN_COMPOSITE_SLIDER
#undef _GUI_INFO_TAB_PADDING
