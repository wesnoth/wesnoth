#textdomain wesnoth-lib
###
### Definition of the lobby screen
###

#define HORIZONTAL_BEGIN
	[grid][row]
	[column]
#enddef
#define HORIZONTAL_SEP
	[/column]
	[column]
#enddef
#define HORIZONTAL_END
	[/column]
	[/row][/grid]
#enddef

#define VERTICAL_BEGIN
	[grid]
	[row][column]
#enddef
#define VERTICAL_SEP
	[/column][/row]
	[row][column]
#enddef
#define VERTICAL_END
	[/column][/row]
	[/grid]
#enddef

#define GAMELISTBOX_HEADER_LABEL ID LABEL
[column]
	grow_factor = 1
	horizontal_grow = "true"
	border = "all"
	border_size = 5
	[label]
		id = {ID}
		definition = "default"
		label = {LABEL}
	[/label]
[/column]
#enddef

#define GAMELISTBOX_BODY_LABEL ID LABEL
	{GAMELISTBOX_HEADER_LABEL {ID} {LABEL}}
#enddef

#define GAMELISTBOX_BODY_BUTTON ID LABEL
[column]
	grow_factor = 1
	horizontal_grow = "true"
	border = "all"
	border_size = 5
	[button]
		id = {ID}
		definition = "default"
		label = {LABEL}
	[/button]
[/column]
#enddef

#define GAMELISTBOX_BODY_IMAGE ID LABEL
[column]
	[image]
		id = {ID}
		definition = "default"
		label = {LABEL}
	[/image]
[/column]
#enddef

#define GAMELISTBOX_EMPTY ID
[column]
	[label]
		id = {ID}
		definition = "default"
		label = ""
	[/label]
[/column]
#enddef

#define GAMELISTBOX_LABEL LABEL
[column]
	[label]
		definition = "default"
		label = {LABEL}
	[/label]
[/column]
#enddef

#define GAMELISTBOX
[listbox]
	id = "game_list"
	definition = "default"
	[header]
		[row]
			[column]
				[grid]
					[row]
						{GAMELISTBOX_HEADER_LABEL "map" "Games"}
						{GAMELISTBOX_EMPTY "minimap"}
						{GAMELISTBOX_EMPTY "name"}
						{GAMELISTBOX_EMPTY "era"}
						{GAMELISTBOX_EMPTY "map_info"}
						{GAMELISTBOX_EMPTY "status"}
						{GAMELISTBOX_EMPTY "options"}
						{GAMELISTBOX_EMPTY "observe"}
						{GAMELISTBOX_EMPTY "observer_icon"}
						{GAMELISTBOX_EMPTY "gold_icon"}
						{GAMELISTBOX_EMPTY "gold_text"}
						{GAMELISTBOX_EMPTY "xp_icon"}
						{GAMELISTBOX_EMPTY "xp_text"}
						{GAMELISTBOX_EMPTY "time_limit_icon"}
						{GAMELISTBOX_EMPTY "time_limit_text"}
						{GAMELISTBOX_EMPTY "vision_text"}
						{GAMELISTBOX_EMPTY "join"}
						{GAMELISTBOX_EMPTY "map_size_text"}
						{GAMELISTBOX_EMPTY "scenario"}
						{GAMELISTBOX_EMPTY "vision_icon"}
					[/row]
				[/grid]
			[/column]
		[/row]
	[/header]
	[list_definition]
		[row]
			[column]
				vertical_grow = "true"
				horizontal_grow = "true"
				[toggle_panel]
					definition = "default"
					{HORIZONTAL_BEGIN}
						[minimap]
							id = "minimap"
							definition = "default"
						[/minimap]
					{HORIZONTAL_SEP}
						{VERTICAL_BEGIN}
							[grid]
								[row]
									{GAMELISTBOX_BODY_LABEL "name" "Name"}
									{GAMELISTBOX_BODY_LABEL "status" "Status"}
								[/row]
							[/grid]
						{VERTICAL_SEP}
							[grid]
								[row]
									{GAMELISTBOX_BODY_LABEL "era" "Era"}
									{GAMELISTBOX_BODY_LABEL "map_size_text" ""}
									{GAMELISTBOX_BODY_LABEL "scenario" ""}
									{GAMELISTBOX_BODY_IMAGE "observer_icon" "misc/eye.png"}
									{GAMELISTBOX_BODY_IMAGE "gold_icon" "themes/gold-t.png"}
									{GAMELISTBOX_BODY_LABEL "gold_text" "2"}
									{GAMELISTBOX_BODY_IMAGE "xp_icon" "themes/units-t.png"}
									{GAMELISTBOX_BODY_LABEL "xp_text" "70%"}
									{GAMELISTBOX_BODY_IMAGE "time_limit_icon" "themes/sand-clock-t.png"}
									[column]
										grow_factor = 1
										horizontal_grow = "true"
										border = "all"
										border_size = 1
										[label]
											id = "time_limit_text"
											definition = "default_tiny"
										[/label]
									[/column]
									{GAMELISTBOX_BODY_IMAGE "vision_icon" ""}
								[/row]
							[/grid]
						{VERTICAL_END}
					{HORIZONTAL_SEP}
						[grid]
							[row]
								{GAMELISTBOX_BODY_BUTTON "join" "Join"}
							[/row]
							[row]
								{GAMELISTBOX_BODY_BUTTON "observe" "Observe"}
							[/row]
						[/grid]
					{HORIZONTAL_END}
				[/toggle_panel]
			[/column]
		[/row]
	[/list_definition]
[/listbox]
#enddef

#define PLAYERLISTBOX
[listbox]
	id = "user_list"
	definition = "default"
	[header]
		[row]
			[column]
				grow_factor = 1
				horizontal_grow = "true"
				border = "all"
				border_size = 5
				[label]
					id = "player"
					definition = "default"
					label = "Player"
				[/label]
			[/column]
		[/row]
	[/header]
	[list_definition]
		[row]
			[column]
				vertical_grow = "true"
				horizontal_grow = "true"
				[toggle_panel]
					definition = "default"
					[grid]
						[row]
							[column]
								grow_factor = 1
								horizontal_grow = "true"
								border = "all"
								border_size = 5
								[label]
									id = "player"
									definition = "default"
								[/label]
							[/column]
						[/row]
					[/grid]
				[/toggle_panel]
			[/column]
		[/row]
	[/list_definition]
[/listbox]
#enddef

[window]
	id = "lobby_main"
	description = "Lobby screen."
	[resolution]
		definition = "default"
		automatic_placement = "false"
		x = 0
		y = 0
		width = "(screen_width)"
		height = "(screen_height)"
		[grid]
			[row]
				grow_factor = 0
				[column]
					grow_factor = 1
					border = "all"
					border_size = 5
					horizontal_alignment = "left"
					[label]
						definition = "title"
						label = _ "Multiplayer Lobby"
					[/label]
				[/column]
			[/row]
			[row]
				grow_factor = 0
				[column]
					grow_factor = 1
					horizontal_grow = "true"
					{HORIZONTAL_BEGIN}
						{VERTICAL_BEGIN}
							grow_factor = 1
							{GAMELISTBOX}
						{VERTICAL_SEP}
							{VERTICAL_BEGIN}
							[label]
									id = "chat_log_header"
									definition = "title"
									label = "Lobby"
								[/label]
							{VERTICAL_SEP}
								[label]
									id = "chat_log"
									definition = "default"
									label = ""
									height = 200
								[/label]
							{VERTICAL_SEP}
								{HORIZONTAL_BEGIN}
									[text_box]
										id = "chat_input"
										definition = "default"
										label = ""
									[/text_box]
								{HORIZONTAL_SEP}
									[button]
										id = "send_message"
										definition = "default"
										label = _ "Send"
									[/button]
								{HORIZONTAL_SEP}
									[button]
										id = "next_window"
										definition = "default"
										label = _ "Next room"
									[/button]
								{HORIZONTAL_END}
							{VERTICAL_END}
						{VERTICAL_END}
					{HORIZONTAL_SEP}
						{VERTICAL_BEGIN}
							[button]
								id = "quit"
								definition = "default"
								label = _ "Quit"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "show_preferences"
								definition = "default"
								label = _ "Preferences"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "refresh"
								definition = "default"
								label = _ "Refresh"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "join_global"
								definition = "default"
								label = _ "Join"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "observe_global"
								definition = "default"
								label = _ "Observe"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "create"
								definition = "default"
								label = _ "Create Game"
							[/button]
						{VERTICAL_SEP}
							[button]
								id = "show_help"
								definition = "default"
								label = _ "Help"
							[/button]
						{VERTICAL_SEP}
							{PLAYERLISTBOX}
						{VERTICAL_END}
					{HORIZONTAL_END}
				[/column]
			[/row]
		[/grid]
	[/resolution]
[/window]

#undef GAMELISTBOX
#undef PLAYERLISTBOX