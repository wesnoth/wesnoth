#textdomain wesnoth-lib
###
### Definition of the window to enter text into a text box and get the value
###

[window]
	id = "gui_test_dialog"
	description = "GUI Test Dialog"

	[resolution]
		definition = "default"

		automatic_placement = true
		vertical_placement = "center"
		horizontal_placement = "center"

		[tooltip]
			id = "tooltip"
		[/tooltip]

		[helptip]
			id = "tooltip"
		[/helptip]

		[grid]

			[row]
				[column]
					[label]
						#label = _ "\<span foreground='red' background='yellow'>Hello\</span>"
						use_markup = true
					[/label]
				[/column]

				[column]
					horizontal_grow = true
					
					# bug : two consecutive float images overlap
					# bug : links don't work after float images or beside right aligned floats
					[rich_label]
						#label = _ "<span foreground='red' background='yellow'>Red Text</span>"
						#label = _ "<span foreground='ff0000' background='ffff00' size='20'>Red Text</span>
						label = _ "<h>Orbs and Ellipses</h>There are colored indicators above the energy bars of some units, consisting of a colored orb (and sometimes a <ref>dst='crowns' text='crown'</ref>)." +
            "<img>src=help/orb-green.png align=here</img>" +
            "<img>src=help/orb-yellow.png align=here</img>" +
            "<img>src=help/orb-red.png align=here</img>" +
            "<img>src=help/orb-disengaged.png align=here</img>" +
            "<img>src=help/orb-blue.png align=here</img>" +
            "<img>src=help/orb-none.png align=here</img>" +
            #po: The help page has a set of images above this paragraph, in the same order as the bullet points
            _ "
The orbs show whether the unit can move or attack. The statuses and their standard colors are:
• <bold>text='Green'</bold> if it has neither moved nor attacked this turn.
• <bold>text='Yellow'</bold> if it has moved (or attacked), and can still attack. It might still be able to move further too.
• <bold>text='Red'</bold> if it can neither move further nor attack again this turn.
    • Red is also used after the ‘end unit turn’ command, and,
    • when a unit is in the middle of a multi-turn move (has been told to move further than it can in the current turn).
• <bold>text='Red and yellow'</bold> if it has moved (or attacked), can still move further, but it can no longer attack.
    • This can happen due to campaign-specific events or abilities, for example the <italic>text='disengage'</italic> ability in the campaign <italic>text='Under the Burning Suns'</italic>.
• <bold>text='Blue'</bold> for allied units, except during that ally’s own turn.
    • During the ally’s own turn, their units will be shown with the colors showing whether the units can still move and attack; however their moves, and the corresponding orb changes, are delayed as explained in <ref>dst='shroud_and_fog' text='Shroud and Fog of War'</ref>.
• Enemy units normally don’t have orbs, however these can be enabled in the advanced preference “Customize orb colors”." + _ "<header>text='Ellipses'</header>" +
            _"A team-colored shape is drawn on the ground under each unit. This is called the “ellipse”, although some units’ ellipses are not elliptical." +
            "<img>src='help/empty-square.png~BLIT(misc/ellipse-top.png)~BLIT(misc/ellipse-bottom.png)~BLIT(units/human-loyalists/spearman.png~TC(1, magenta))'</img>" +
            "<img>src='help/empty-square.png~BLIT(misc/ellipse-leader-top.png)~BLIT(misc/ellipse-leader-bottom.png)~BLIT(units/human-loyalists/lieutenant.png~TC(1, magenta))'</img>" +
            "<img>src='help/empty-square.png~BLIT(misc/ellipse-hero-top.png)~BLIT(misc/ellipse-hero-bottom.png)~BLIT(units/human-loyalists/lieutenant.png~TC(1, magenta))'</img>" +
            "<img>src='help/empty-square.png~BLIT(misc/ellipse-nozoc-top.png)~BLIT(misc/ellipse-nozoc-bottom.png)~BLIT(units/human-peasants/peasant.png~TC(1, magenta))'</img>" +
            "<img>src='help/empty-square.png~BLIT(misc/ellipse-leader-nozoc-top.png)~BLIT(misc/ellipse-leader-nozoc-bottom.png)~BLIT(units/human-peasants/peasant.png~TC(1, magenta))'</img>" +
            #po: The help page has a set of images above this paragraph, in the same order as the bullet points
            _ "
• Most units have a circular ellipse.
• Units that can recruit have a seven-pointed star.
• <ref>dst='crowns' text='Hero units'</ref> have a smaller variant of the seven-pointed star, these units can’t recruit.
• Units without a <ref>dst='movement' text='zone of control'</ref> have a broken outline version of the shape.
• Some campaigns start with a level zero leader. Able to recruit but lacking a ZoC, these units have a broken outline version of the seven-pointed star."
						#
						#label = _ "<ref>dst=link1</ref>text<ref>dst=link2</ref>text<ref>dst=link2</ref>"
					    #label = _ "<h>Movement</h><br/>Text<ref>dst='welcome' Hello</ref>Text"
#					    label = _ "<img src='help/moving1.png' align=left break=yes></img>Hello"

						#label = _ "<img src='icons/profiles/blade.png' float=yes align=left/> blade"
					[/rich_label]

				[/column]

			[/row]

			[row]
				[column]
					[spacer]
						#height = 200
					[/spacer]
				[/column]

				[column]
					horizontal_alignment = "right"

					[grid]

						[row]
							grow_factor = 0

							[column]
								border = "all"
								border_size = 5
								horizontal_alignment = "right"

								[button]
									id = "ok"
									definition = "default"
									label = _ "OK"
								[/button]
							[/column]

						[/row]

					[/grid]

				[/column]

			[/row]

		[/grid]

	[/resolution]

[/window]
