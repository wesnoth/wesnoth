#textdomain wesnoth-units

[unit_type]
    id=Skiff
    name= _ "Skiff"
    race=ship
    image="units/transport/skiff/skiff.png"
    # ideally, we have "crew" that make sense for dialogs, and "mechanical" that depicts the transport
    # but for now, we just have "crew"
    # small_profile="portraits/transport/mechanical-boat.webp"
    profile="portraits/transport/crew-boat.webp"
    hitpoints=90
    movement_type=ship
    movement=8
    experience=90
    level=2
    alignment=neutral
    advances_to=Merchant Carrack,Pirate Carrack
    cost=35
    usage=null
    description= _"Propelled by oars or small sails, skiffs are used to travel short distances and in shallows where large ships cannot navigate."

    [attack]
        name=ram
        description=_"ram"
        icon=attacks/naval_ram.png
        type=impact
        range=melee
        [specials]
            {WEAPON_SPECIAL_NAVAL}
            {WEAPON_SPECIAL_CHARGE}
        [/specials]
        damage=15
        number=1
    [/attack]

    [attack_anim]
        [filter_attack]
            name=ram
        [/filter_attack]
        start_time=-850
        boat_start_time=-850
        boat_offset=0:500,0.0~0.7:350,0.7~0.0:250
        [frame]
            image="misc/blank-hex.png:1100"
        [/frame]
        [boat_frame]
            image="units/transport/skiff/skiff.png:1100"
            auto_vflip=no
            sound=ship-ram-windup.ogg
        [/boat_frame]
        {SOUND:HIT_AND_MISS water-blast.wav mace-miss.ogg -100}
    [/attack_anim]

    [attack]
        name=archers
        description=_"archers"
        icon=attacks/bow.png
        type=pierce
        range=ranged
        damage=8
        number=4
    [/attack]

#define SKIFF_ARCHERS_ANIM X
    [attack_anim]
        [filter_attack]
            name=archers
        [/filter_attack]
        start_time=-200
        missile_start_time=-150
        boat_start_time=-200
        [missile_frame]
            duration=150
            image=projectiles/missile-n.png
            image_diagonal=projectiles/missile-ne.png
            x,y={X},15
        [/missile_frame]
        [boat_frame]
            image="units/transport/skiff/skiff.png:400"
            auto_vflip=no
        [/boat_frame]
        [frame]
            image="misc/blank-hex.png:400"
        [/frame]
        {SOUND:HIT_AND_MISS bow-puny.ogg bow-puny-miss.ogg -150}
    [/attack_anim]
#enddef
    {SKIFF_ARCHERS_ANIM -15}
    {SKIFF_ARCHERS_ANIM   0}
    {SKIFF_ARCHERS_ANIM  15}
    
    [standing_anim]
        start_time=0
        terrain_type=Wo*^*
        boat_start_time=0
        flag_start_time=0
        boat_y=-2:300,-2~2:600,2:250,2~-2:550
        flag_y=-2:300,-2~2:600,2:250,2~-2:550
        flag_directional_x=4:280,4~0:330,0~-4:320,-4:290,-4~0:340,0~3:140
        [frame]
            image="misc/blank-hex.png:1700"
        [/frame]
        [boat_frame]
            image="units/transport/skiff/skiff-bob[1~6,4~2].png:[280,170,180,190,200,140,180*2,180]"
            auto_vflip=no
            primary=yes
        [/boat_frame]
        [flag_frame]
            image="units/transport/skiff/skiff-flag[1~3,2,1~3,2,1~3,2].png:[150*3,110,150*3,130,150*3,110]"
            auto_vflip=no
        [/flag_frame]
    [/standing_anim]
    [standing_anim]
        start_time=0
        terrain_type=!,Wo*^*,!,W*^*
        boat_start_time=0
        flag_start_time=0
        boat_y=-2:300,-2~1:600,1:300,1~-2:600
        flag_y=-2:300,-2~1:600,1:300,1~-2:600
        flag_directional_x=-3:400,-3~4:400,4:400,4~-3:400
        [frame]
            image="misc/blank-hex.png:1600"
        [/frame]
        [boat_frame]
            image="units/transport/skiff/skiff-bob[2~5,4,3].png:[400,200*2,400,200*2]"
            auto_vflip=no
            primary=yes
        [/boat_frame]
        [flag_frame]
            image="units/transport/skiff/skiff-flag[1~3,2,1~3,2].png:[200*3,200,200*3,200]"
            auto_vflip=no
        [/flag_frame]
    [/standing_anim]
    [standing_anim]
        start_time=0
        terrain_type=S*^*,*^V*,*^B*
        boat_start_time=0
        flag_start_time=0
        boat_y=-1:300,-1~1:550,1:300,1~-1:550
        flag_y=-1:300,-1~1:550,1:300,1~-1:550
        flag_directional_x=0:550,1:350,2:500,1:250
        [frame]
            image="misc/blank-hex.png:1600"
        [/frame]
        [boat_frame]
            image="units/transport/skiff/skiff-bob[3,4,3,4].png:[400*4]"
            auto_vflip=no
            primary=yes
        [/boat_frame]
        [flag_frame]
            image="units/transport/skiff/skiff-flag[1~3,2,1~3,2].png:[200*8]"
            auto_vflip=no
        [/flag_frame]
    [/standing_anim]
    [movement_anim]
        start_time=0
        boat_start_time=0
        boat_y=0~-2:320,-2~0:320,0~2:320,2~0:320
        boat_offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
        [frame]
            image="misc/blank-hex.png:1600"
        [/frame]
        [boat_frame]
            image="units/transport/skiff/skiff.png:1600"
            # image="units/transport/skiff-move[1~3,2].png:[400*4]"
            auto_vflip=no
            primary=yes
        [/boat_frame]
    [/movement_anim]
[/unit_type]

#undef SKIFF_ARCHERS_ANIM
