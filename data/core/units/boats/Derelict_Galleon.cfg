#textdomain wesnoth-units
[unit_type]
    id=Derelict Hulk
    name= _ "Derelict Hulk"
    race=ship
    profile="portraits/transport/derelict-hulk.webp"
    image="units/transport/derelict-galleon.png"
    hitpoints=24
    movement_type=ship
    movement=4
    experience=50
    level=0
    alignment=chaotic
    advances_to=null
    {AMLA_DEFAULT}
    cost=10
    usage=null
    description= _ "Derelicts are abandoned wrecks that continue to drift across the seas. Most are merely ruined ships that will soon sink, but there are tales of others that haunt certain waterways for generations."
    # we put the sprite on a non-primary frame group so we don't need to worry about effects
    # like submerge or making the ellipse bob
    [standing_anim]
        start_time=0
        terrain_type=W*
        boat_start_time=0
        boat_y=-1:250,-1~2:490,2:250,2~-1:490
        flag_y=-1:250,-1~2:490,2:250,2~-1:490
        flag_directional_x=1:350,0:390,-1:350,0:390
        [frame]
            image="misc/blank-hex.png:1480"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon-rock-[port,center,starboard,center].png:[350,390,350,390]"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [flag_frame]
            image="units/transport/pirate-galleon-flag[1~3,2,1~3,2].png:[210*3,130,200*3,120]"
            auto_vflip=no
        [/flag_frame]
    [/standing_anim]
    [standing_anim]
        start_time=0
        terrain_type=S*,*^V*
        boat_start_time=0
        boat_y=0~2:740,2~0:740
        flag_y=0~2:740,2~0:740
        [frame]
            image="misc/blank-hex.png:1480"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon-rock-center.png:1480"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [flag_frame]
            image="units/transport/pirate-galleon-flag[1~3,2,1~3,2].png:[210*3,130,200*3,120]"
            auto_vflip=no
        [/flag_frame]
    [/standing_anim]
    [movement_anim]
        start_time=0
        boat_start_time=0
        boat_y=0~-2:320,-2~0:320,0~2:320,2~0:320
        boat_offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
        [frame]
            image="misc/blank-hex.png:1280"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon.png:1280"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
    [/movement_anim]
    [defend]
        hits=hit,kill
        start_time=-80
        boat_start_time=-80
        [frame]
            image="misc/blank-hex.png:520"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon.png:100"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [boat_frame]
            image="units/transport/derelict-galleon-hit-[1,2,1].png:[50,190,140]"
            sound=wose-hit.ogg
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [boat_frame]
            image="units/transport/derelict-galleon.png:40"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
    [/defend]
    [death]
        start_time=0
        boat_start_time=-0
        boat_y=0~-3:80,-3~0:80,0~20:840
        boat_alpha=1.0:200,1.0~0.0:800
        [frame]
            image="misc/blank-hex.png:1400"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon-hit-1.png:200"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [boat_frame]
            image="units/transport/derelict-galleon-sink.png:799"
            submerge=0.0~0.6:799
            auto_vflip=no
        [/boat_frame]
        [boat_frame]
            image="misc/blank-hex.png:1"
        [/boat_frame]
    [/death]
    [defend]
        hits=miss
        start_time=-80
        boat_start_time=-80
        [frame]
            image="misc/blank-hex.png:120"
        [/frame]
        [boat_frame]
            image="units/transport/derelict-galleon.png:120"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
    [/defend]
    [attack]
        name=jetsam
        description=_"jetsam"
        icon=attacks/jetsam.png
        type=impact
        range=ranged
        damage=4
        number=2
    [/attack]
    [attack_anim]
        [filter_attack]
            name=jetsam
        [/filter_attack]
        start_time=-200
        missile_start_time=-150
        boat_start_time=-200
        [missile_frame]
            duration=150
            image="projectiles/thorns.png"
            image_diagonal="projectiles/thorns-ne.png"
        [/missile_frame]
        [boat_frame]
            image="units/transport/derelict-galleon.png:300"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [frame]
            image="misc/blank-hex.png:300"
        [/frame]
    [/attack_anim]
[/unit_type]
