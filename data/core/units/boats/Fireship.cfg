#textdomain wesnoth-units
[unit_type]
    id=Fireship
    name= _ "Fireship"
    race=ship
    image="halo/transport/fireship-back-glow.png~BLIT(units/transport/fireship.png)~BLIT(units/transport/flames/fireship-2.png)"
    profile="portraits/transport/fireship.webp"
    hitpoints=12
    movement_type=ship
    movement=4
    experience=50
    level=0
    alignment=neutral
    advances_to=null
    {AMLA_DEFAULT}
    cost=10
    usage=null
    description= _ "Fireships are generally derelict or doomed ships set ablaze to create chaos in one last act of belligerence. Their main hazard is fiery collision, but they also shed burning embers. Sometimes they have a skeleton crew to guide them, but often they just drift along on unseen winds and currents."
    # we put the sprite on a non-primary frame group so we don't need to worry about effects
    # like submerge or making the ellipse bob
    [standing_anim]
        start_time=0
        terrain_type=W*
        boat_start_time=0
        boat_y=-1:250,-1~2:490,2:250,2~-1:490
        flames_start_time=0
        flames_y=-1:250,-1~2:490,2:250,2~-1:490
        flames_directional_x=1:350,0:390,-1:350,0:390
        [frame]
            image="halo/transport/fireship-back-glow.png:1480"
            layer=9
        [/frame]
        [boat_frame]
            image="units/transport/fireship-[port,mid,starboard,mid].png:[350,390,350,390]"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
            primary=yes
            layer=40
        [/boat_frame]
        [fire_frame]
            image="units/transport/fireship-back-fire[1,2,1,2,1,2,1,2].png:[185*8]"
            auto_vflip=no
            layer=41
        [/fire_frame]
        [flames_frame]
            image="units/transport/flames/fireship-[1~9,1~9].png:[82*10,86,82*7]"
            auto_vflip=no
            layer=42
        [/flames_frame]
    [/standing_anim]
    [standing_anim]
        start_time=0
        terrain_type=S*,*^V*
        boat_start_time=0
        boat_y=-1:250,-1~0:490,0:250,0~-1:490
        flames_start_time=0
        flames_y=-1:250,-1~0:490,0:250,0~-1:490
        flames_directional_x=1:350,0:390,-1:350,0:390
        [frame]
            image="halo/transport/fireship-back-glow.png:1480"
            layer=9
        [/frame]
        [boat_frame]
            image="units/transport/fireship-[port,mid,starboard,mid].png:[350,390,350,390]"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
            primary=yes
            layer=40
        [/boat_frame]
        [fire_frame]
            image="units/transport/fireship-back-fire[1,2,1,2,1,2,1,2].png:[185*8]"
            auto_vflip=no
            layer=41
        [/fire_frame]
        [flames_frame]
            image="units/transport/flames/fireship-[1~9,1~9].png:[82*10,86,82*7]"
            auto_vflip=no
            layer=42
        [/flames_frame]
    [/standing_anim]
    [movement_anim]
        start_time=0
        boat_start_time=0
        boat_y=0~-2:320,-2~0:320,0~2:320,2~0:320
        boat_offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
        [frame]
            image="halo/transport/fireship-back-glow.png:1280"
            layer=9
        [/frame]
        [boat_frame]
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png)~BLIT(units/transport/flames/fireship-2.png):1280"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
    [/movement_anim]
    [defend]
        hits=hit,kill
        start_time=-40
        boat_start_time=-40
        boat_y=-1~2:330,2~-1:330
        flames_start_time=-40
        flames_y=-1~2:330,2~-1:330
        [frame]
            image="halo/transport/fireship-back-glow.png:660"
            layer=9
        [/frame]
        [boat_frame]
            halo="projectiles/fireball-impact-[5~16].png:60"
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png):660"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [flames_frame]
            image="units/transport/flames/fireship-[1~7].png:[96,94*6]"
            auto_vflip=no
            layer=42
        [/flames_frame]
    [/defend]
    [death]
        start_time=0
        boat_start_time=-0
        # boat_y=0~-3:80,-3~0:80,0~20:840
        boat_y=0~-3:80,-3~0:80,0~6:400,6~20:440
        boat_alpha=1.0:200,1.0~0.0:800
        smoke_start_time=100
        smoke_y=0~-10:900
        [frame]
            image="misc/blank-hex.png:1000"
        [/frame]
        [boat_frame]
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png):39"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [boat_frame]
            image="units/transport/fireship-sink.png:960"
            submerge=0.0~0.2:400,0.2~0.65:560
            auto_vflip=no
        [/boat_frame]
        [boat_frame]
            image="misc/blank-hex.png:1"
        [/boat_frame]
        [smoke_frame]
            image="halo/transport/smoke-[1,2,3].png:[100,150,650]"
            alpha=1.0:200,1.0~0.0:500,0.0:200
            auto_vflip=no
        [/smoke_frame]
    [/death]
    [defend]
        hits=miss
        start_time=-80
        boat_start_time=-80
        [frame]
            image="halo/transport/fireship-back-glow.png:120"
            layer=9
        [/frame]
        [boat_frame]
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png)~BLIT(units/transport/flames/fireship-2.png):120"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
    [/defend]
    [attack]
        name=ember
        description=_"ember"
        icon=attacks/ember.png
        type=fire
        range=ranged
        damage=3
        number=2
    [/attack]
    [attack]
        name=crash
        description=_"crash"
        icon=attacks/fire-hull.png
        type=fire
        range=melee
        [specials]
            {WEAPON_SPECIAL_NAVAL_RAM}
        [/specials]
        damage=6
        number=1
    [/attack]
    [attack_anim]
        [filter_attack]
            name=ember
        [/filter_attack]
        start_time=-200
        missile_start_time=-150
        boat_start_time=-200
        [missile_frame]
            duration=150
            image="projectiles/misfire-spark-[1~4].png:[120,60*3]"
        [/missile_frame]
        [boat_frame]
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png)~BLIT(units/transport/flames/fireship-2.png):300"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [frame]
            image="halo/transport/fireship-back-glow.png:300"
            layer=9
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=crash
        [/filter_attack]
        start_time=-150
        boat_start_time=-150
        boat_offset=0.0~0.7:150,0.7~0.0:250
        [boat_frame]
            image="units/transport/fireship-mid.png~BLIT(units/transport/fireship-back-fire2.png)~BLIT(units/transport/flames/fireship-2.png):400"
            auto_vflip=no
            image_mod=~MASK(units/transport/pirate-galleon-mask.png)
        [/boat_frame]
        [frame]
            image="halo/transport/fireship-back-glow.png:400"
            layer=9
        [/frame]
    [/attack_anim]
[/unit_type]
