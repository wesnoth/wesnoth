#textdomain wesnoth-units
[unit_type]
    id=Blood Bat
    name= _ "Blood Bat"
    race=bats
    image="units/bats/bloodbat-se-3.png"
    profile="portraits/monsters/bat-red.webp"
    small_profile="portraits/monsters/bat-red.webp~CROP(0,0,500,300)"
    {TRAIT_FERAL_MUSTHAVE}
    hitpoints=27
    movement_type=smallfly
    movement=9
    experience=37
    level=1
    alignment=chaotic
    advances_to=Dread Bat
    cost=23
    usage=scout
    description= _ "Blood Bats are so named because of their ruddy hue, which some mark as a symbol of their preferred diet. These creatures are fast and can drain the blood of those they attack, thereby gaining some of the health lost by their victims."
    die_sound=bat-flapping.wav

    [resistance]
        cold=70
    [/resistance]
    [defense]
        village=50
    [/defense]

    [defend]
        direction=s,sw,se
        [if]
            hits=miss
			start_time=-126
			[frame] ##Circle unerneath the unit looks bad with offset, leave it here.
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame] ##Subframes are layered in alphabetical order.
				image="units/bats/test/bloodbat-se-[3,4].png:[1,100]"
				parallax_mult=1.05
				y="-40:1, -25:100"
				auto_vflip=no ##Subframes are upside down by default
				offset=0.0~-0.15,-0.15~0.0
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-se-[3,4].png:[1,100]"
				image_mod="~BW(255)~BL(3)~O(30%)" ##Turns image into a shadow
				y=10
				offset=0.0~-0.15,-0.15~0.0
			[/shadow_frame]
        [/if]
		[else]
			start_time=-126
			[frame]
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-se-[3,4].png:[1,100]"
				parallax_mult=1.05
				y="-40:1, -25:100"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-se-[3,4].png:[1,100]"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
		[/else]
        [if]
            hits=hit
			[frame]
				image="misc/blank-hex.png"
				sound={SOUND_LIST:BAT_HIT}
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-se-4.png:150"
				parallax_mult=1.05
				y="-25:1, -40:150"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-se-4.png:150"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
        [/if]
        [else]
            hits=miss,kill	
			[frame]
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-se-4.png:150"
				parallax_mult=1.05
				y="-25:1, -40:150"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-se-4.png:150"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
        [/else]	
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-se-3.png:1"
			parallax_mult=1.05
			y=-40
			auto_vflip=no
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-se-3.png:1"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
		[/shadow_frame]
    [/defend]
	
    [defend]
        direction=n,nw,ne
        [if]
            hits=miss
			start_time=-126
			[frame]
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-ne-[3,4].png:[1,100]"
				parallax_mult=1.05
				y="-40:1, -25:100"
				auto_vflip=no
				offset=0.0~-0.15,-0.15~0.0
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-ne-[3,4].png:[1,100]"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
				offset=0.0~-0.15,-0.15~0.0
			[/shadow_frame]
        [/if]
		[else]
			start_time=-126
			[frame]
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-ne-[3,4].png:[1,100]"
				parallax_mult=1.05
				y="-40:1, -25:100"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-ne-[3,4].png:[1,100]"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
		[/else]
        [if]
            hits=hit
			[frame]
				image="misc/blank-hex.png"
				sound={SOUND_LIST:BAT_HIT}
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-ne-4.png:150"
				parallax_mult=1.05
				y="-25:1, -40:150"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-ne-4.png:150"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
        [/if]
        [else]
            hits=miss,kill
			[frame] ##Circle unerneath the unit looks bad with offset, leave it here.
				image="misc/blank-hex.png"
			[/frame]
			[x_flying_frame]
				image="units/bats/test/bloodbat-ne-4.png:150"
				parallax_mult=1.05
				y="-25:1, -40:150"
				auto_vflip=no
			[/x_flying_frame]
			[shadow_frame]
				image="units/bats/test/bloodbat-ne-4.png:150"
				image_mod="~BW(255)~BL(3)~O(30%)"
				y=10
			[/shadow_frame]
        [/else]
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-3.png:1"
			parallax_mult=1.05
			y=-40
			auto_vflip=no
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-3.png:1"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
		[/shadow_frame]
    [/defend]

    [standing_anim]
        layer=60
        direction=s,se,sw
        start_time=0
		[frame]
            image="misc/blank-hex.png"
        [/frame]
		[x_flying_frame]
            image="units/bats/test/bloodbat-se-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			parallax_mult=1.05
			y=-40
			auto_vflip=no
        [/x_flying_frame]
        [shadow_frame]
			image="units/bats/test/bloodbat-se-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
        [/shadow_frame]
    [/standing_anim]
	
    [standing_anim]
        direction=n,ne,nw
        layer=60
        start_time=0
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			parallax_mult=1.05
			y=-40
			auto_vflip=no
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
		[/shadow_frame]
    [/standing_anim]
	
    [movement_anim]
        direction=s,se,sw
        start_time=0
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-se-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			parallax_mult=1.05
			y="-40:1, -38:50, -35:60, -32:80, -35:60, -38:50, -40:60, -48:80, -44:60" ## Extra y offset animation, to show wingbeats more during movement.
			auto_vflip=no
			offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200" ## Movement slide, 200 ms per hex. 1 per move range.
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-se-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
		[/shadow_frame]
    [/movement_anim]
	
    [movement_anim]
        direction=n,ne,nw
        start_time=0
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			parallax_mult=1.05
			y="-40:1, -38:50, -35:60, -32:80, -35:60, -38:50, -40:60, -48:80, -44:60"
			auto_vflip=no
			offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-[3~1,2~5,4].png:[50,60,80,60,50,60,80,60]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
		[/shadow_frame]
    [/movement_anim]

    [attack]
        name=fangs
        description=_"fangs"
        icon=attacks/fangs-animal.png
        type=blade
        range=melee
        damage=5
        number=3
        [specials]
            {WEAPON_SPECIAL_DRAIN}
        [/specials]
    [/attack]
	
    [attack_anim]
        [filter_attack]
            name=fangs
        [/filter_attack]
        direction=s,se,sw
        start_time=-200
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-se-[3,2].png:30"
			parallax_mult=1.05
			y="-40:1, -37:60"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-se-[3,2].png:30"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]	
		[frame]
			image="misc/blank-hex.png"
			sound=bat-flapping.wav
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-se-1.png:30"
			parallax_mult=1.05
			y="-37:1, -35:30"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-se-1.png:30"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-se-[2~4,3,2,3].png:[30*2,70,50*2,40]"
			parallax_mult=1.05
			y="-35:1, -10:100, -20:170"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-se-[2~4,3,2,3].png:[30*2,70,50*2,40]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]
        {SOUND:HIT_AND_MISS bite-small.ogg {SOUND_LIST:MISS} -50}
    [/attack_anim]
	
    [attack_anim]
        [filter_attack]
            name=fangs
        [/filter_attack]
        direction=n,ne,nw
        start_time=-200
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-[3,2].png:30"
			parallax_mult=1.05
			y="-40:1, -37:60"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-[3,2].png:30"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]
		[frame]
			image="misc/blank-hex.png"
			sound=bat-flapping.wav
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-1.png:30"
			parallax_mult=1.05
			y="-37:1, -35:30"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-1.png:30"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]	
		[frame]
			image="misc/blank-hex.png"
		[/frame]
		[x_flying_frame]
			image="units/bats/test/bloodbat-ne-[2~4,3,2,3].png:[30*2,70,50*2,40]"
			parallax_mult=1.05
			y="-35:1, -10:100, -20:170"
			auto_vflip=no
			offset=0.0~0.9:200,0.9~0.0:160
		[/x_flying_frame]
		[shadow_frame]
			image="units/bats/test/bloodbat-ne-[2~4,3,2,3].png:[30*2,70,50*2,40]"
			image_mod="~BW(255)~BL(3)~O(30%)"
			y=10
			offset=0.0~0.9:200,0.9~0.0:160
		[/shadow_frame]
        {SOUND:HIT_AND_MISS bite-small.ogg {SOUND_LIST:MISS} -50}
    [/attack_anim]
[/unit_type]
