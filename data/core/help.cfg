#textdomain wesnoth-help
[help]
    [toplevel]
#ifdef __INCOMPLETE_EDITOR_HELP__
        sections=introduction,gameplay,units,abilities_section,traits_section,weapon_specials,eras_section,terrains_section,schedule,addons,editor,commands,encyclopedia
#else
        sections=introduction,gameplay,units,abilities_section,traits_section,weapon_specials,eras_section,terrains_section,schedule,addons,commands,encyclopedia
#endif
        topics=license
    [/toplevel]

    [section]
        id=schedule
        title= _ "Time of Day Schedule"
        generator=time_of_days
        sort_topics=generated
    [/section]

    [section]
        id=introduction
        title= _ "Introduction"
        topics=..introduction,about_game
    [/section]

    [section]
        id=gameplay
        title= _ "Gameplay"
        topics=..gameplay,victory_and_defeat,recruit_and_recall,income_and_upkeep,hitpoints,advancement,movement,shroud_and_fog,combat,damage_types_and_resistance,orbs,time_of_day,healing,saveload,whylost,wrap_up
    [/section]

    [section]
        id=traits_section
        title= _ "Traits"
        topics=..traits_section
        generator=traits
        sort_topics=generated
    [/section]

    [section]
        id=units
        title= _ "Units"
        sections_generator=races
        sort_topics=yes
        sort_sections=yes
        topics=..units,.unknown_unit
    [/section]

    [section]
        id=abilities_section
        title= _ "Abilities"
        topics=..abilities_section
        generator=abilities
        sort_topics=generated
    [/section]

    [section]
        id=weapon_specials
        title= _ "Weapon Specials"
        topics=..weapon_specials
        generator=weapon_specials
        sort_topics=generated
    [/section]

    [section]
        id=eras_section
        title= _ "Eras"
        sections_generator=eras
        sort_topics=yes
        topics=..eras_section
    [/section]

    [section]
        id=terrains_section
        title= _ "Terrains"
        sections_generator=terrains
        topics=..terrains_section
        sort_topics=generated
    [/section]

    [section]
        id=addons
        title= _ "Add-ons"
        topics=..addons,using_addons,installing_addons,removing_addons
    [/section]

    [section]
        id=commands
        title= _ "Commands"
        topics=..commands,general_commands,mp_commands,debug_commands
    [/section]

    {core/editor/help.cfg}

    {core/encyclopedia}

    # wmllint: markcheck off
    [topic]
        id=..introduction
        title= _ "Introduction"
        text="<img>src=misc/logo-bg.png~BLIT(misc/logo.png) align=middle box=no</img>" + _ "

<italic>text='Battle for Wesnoth'</italic> is a turn-based fantasy strategy game somewhat unusual among modern strategy games. While other games strive for complexity, <italic>text='Battle for Wesnoth'</italic> strives for simplicity of both rules and gameplay. This does not make the game simple, however — from these simple rules arise a wealth of strategy, making the game easy to learn but a challenge to master.

The following pages outline all you need to know to play Wesnoth. As you play, new information is added to the various categories as you come across new aspects of the game. For more detailed information on special situations and exceptions, follow the included links."
    [/topic]
    # wmllint: markcheck on

    [topic]
        id=about_game
        title= _ "About the Game"
        text= _ "The game takes place on a hex-based game field, where your units battle against those controlled by the computer, friends who each take turns on the same computer (hotseat play), other players on the same network, or players worldwide in multiplayer mode.

Each of these battles is called a <italic>text='scenario'</italic>, which can be strung together to make <italic>text='campaigns'</italic>. Besides the campaigns that ship with the game, Wesnoth supports user-made content, and the add-on server boasts hundreds of custom maps, campaigns, eras, factions, and resources.

The game also features a human-readable markup called Wesnoth Markup Language (WML) to easily allow users to create their own content, as well as a fully-featured Map and Scenario Editor for designing your own battlefields.

The <italic>text='Battle for Wesnoth'</italic> project was begun in 2003, and has been worked on by a multitude of volunteers ever since."
    [/topic]

    [topic]
        id=..units
        title= _ "Units"
        text= _ "This section will list all the units you discover as you explore the world of Wesnoth. When you see a new unit during a campaign or multiplayer scenario it will be added to its race’s subsection; you can then view its page any time you wish. A unit’s page will provide a general description, its statistics, attacks, resistances, and movement and defense values.

"
        generator="contents:generated"
    [/topic]

    [topic]
        id=..eras_section
        title= _ "Eras"
        text= _ "A faction is a collection of units and leaders. Factions are assigned to sides in multiplayer games.

" + _ "An era is a collection of factions, intended to be played against one another. Besides the mainline eras that come with the game, many user-made factions are available from add-ons.

"
        generator="contents:generated"
    [/topic]

    [topic]
        id=..abilities_section
        title= _ "Abilities"
        text= _ "Certain units have abilities that either directly affect other units or have an impact on how the unit interacts with other units. These abilities will be listed under this section as you encounter them. Each page will provide a description of what the ability does and which (currently discovered) units have it.

"
        generator="contents:generated"
    [/topic]

    [topic]
        id=..weapon_specials
        title= _ "Weapon Specials"
        text= _ "Some weapons have special features that increase the effectiveness of attacking with them. When you see a new weapon special during a campaign or multiplayer scenario it will be added to this list; you can then view its page any time you wish. Each page will provide a description of what the weapon special does and which (currently discovered) units have it.

"
        generator="contents:generated"
    [/topic]

    # wmllint: markcheck off
    [topic]
        id=.unknown_unit
        title= _ "Unknown Unit"
        text="<img>src=units/unknown-unit.png~RC(magenta>red) align=left float=yes</img>" + _ "

This unit is unknown for the moment. You must discover it in the game to be allowed to see its description."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=..gameplay
        title= _ "Gameplay"
        text= _ "Wesnoth is comprised of a series of battles, called <italic>text='scenarios'</italic>, that pit your troops against the troops of one or more adversaries. Multiple scenarios that follow on from each other, telling a story, make up <italic>text='campaigns'</italic>. In a campaign, you often need to play more carefully, preserving your best troops for use again in later scenarios.

The interactive <bold>text='Tutorial'</bold> introduces the basics of Wesnoth gameplay in the context of a scenario. Most material covered in the tutorial is explained more in-depth in these pages, so you can always refer back here if you forget something.

After you master the basics, try out a beginner campaign, such as <italic>text='Heir to the Throne'</italic> or <italic>text='The South Guard'</italic>. A full list of installed campaigns can be found via the <bold>text='Campaign'</bold> option on the main menu. As Wesnoth can be quite challenging, you may wish to start on easy before progressing to higher difficulties.

Campaigns are grouped by <italic>text='level'</italic> and <italic>text='difficulty'</italic>. For example, <italic>text='Heir to the Throne'</italic> is ‘Novice’ level, and is playable at three difficulties: ‘Beginner’, ‘Normal’, and ‘Challenging’. The level of a campaign indicates what degree of proficiency in the game mechanics (such as <ref>dst='movement' text='zones of control'</ref> and <ref>dst='time_of_day' text='time of day'</ref>) is assumed. The difficulty indicates how challenging the scenarios will be to a veteran player: at higher difficulties, the obstacles to victory will be higher and overcoming them will require more skillful play. For example, at higher difficulties the enemy may have higher incomes, higher-level units, more castle hexes, and so on." + "

<img>src=help/tooltip.png align=right float=yes</img>" +
            _ "While playing, keep in mind that you can mouse-over many items in the game, such as the information displayed in the status pane, to see a brief description explaining each item. This is especially useful when you encounter new elements, such as <ref>dst='..abilities_section' text='abilities'</ref>, for the first time." + _ "

<header>text='Fundamentals of Gameplay'</header>

"
        generator="contents:gameplay"
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=victory_and_defeat
        title= _ "Victory and Defeat"
        text= _ "Pay careful attention to the <bold>text='Objectives'</bold> pop-up box at the beginning of each scenario. In most scenarios, you will achieve victory by killing all enemy leaders ; likewise, the death of your own leader generally results in defeat. However, some scenarios may have other victory objectives, such as getting your leader to a designated point, rescuing an ally, solving a puzzle, or holding out against a siege until a certain number of turns have elapsed." + _ "

When you win a scenario, the map grays over and the <bold>text='End Turn'</bold> button changes to <bold>text='End Scenario'</bold>. You can now do things like changing your save options or (if you are in a multiplayer game) chatting with other players before pressing that button to advance."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=recruit_and_recall
        title= _ "Recruiting and Recalling"
        text="<img>src=help/recruit.png align=left float=yes</img>" + _ "Each side begins with one leader in their keep. At the start of any battle, and at times during it, you will need to recruit <ref>dst='..units' text='units'</ref> into your army. To recruit, you must have your leader (for instance, Konrad in the <italic>text='Heir to the Throne'</italic> campaign) on the keep hex of a <ref>dst='..terrain_castle' text='castle'</ref>. Then you may recruit by either choosing <bold>text='Recruit'</bold> from the menu or right-clicking on a hex and selecting <bold>text='Recruit'</bold>. This brings up the recruit menu, which lists units available for recruitment, along with their gold cost. Click on a unit to see its statistics, then press the <bold>text='Recruit'</bold> button to recruit it." + _ "

If you right-clicked on a castle hex and selected recruit, the new unit will appear in that hex. Otherwise, it will appear in a free hex near the keep. You may only recruit as many units as you have free hexes in your castle, and you cannot spend more gold than you actually have on recruiting." + _ "

Recruited units come with two random <ref>dst='..traits_section' text='traits'</ref> which modify their statistics." + _ "

In later scenarios, you may also Recall survivors from earlier battles. Recalling costs a standard 20 gold and presents you with a list of all surviving units from previous scenarios." + _ "

Units not only cost gold to Recruit or Recall, they also require money to support. See <ref>dst='income_and_upkeep' text='income and upkeep'</ref> for more information."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=income_and_upkeep
        title= _ "Income and Upkeep"
        text= _ "In Wesnoth, it is not enough simply to recruit units and fight. You must watch your gold as well, especially in campaigns, where you can carry extra gold over from one scenario to the next. There are two aspects to this; <italic>text='income'</italic> and <italic>text='upkeep'</italic>." + _ "

Income is simple. You have a base income of 2 gold per turn. For every village you control, you gain one additional gold each turn. (In general this is configurable but in campaigns it is almost always one gold per village.) Thus, if you have ten villages, you would normally gain 12 gold each turn. Your upkeep costs are subtracted from this income, as detailed below." + _ "

Upkeep is also fairly simple. Each unit requires an amount of Upkeep equal to its level. You can support as many levels worth of units as you have villages, without paying any upkeep. However, for each level of unit beyond the number of villages you have, you must pay one gold per turn. For example, if you have twelve level one units and ten villages, you would have to pay two gold each turn in upkeep." + _ "

Upkeep costs are subtracted from your income, so in the case of twelve levels of units and ten villages, your resultant Income would be 10 gold per turn." + _ "

There are two important exceptions to upkeep: units with the loyal trait and leaders never incur upkeep. Units you begin the scenario with (such as Delfador), or units who join you during a scenario (such as the horseman in the second scenario of <italic>text='Heir to the Throne'</italic>) will usually have the <italic>text='loyal'</italic> trait. The unit you are playing (such as Konrad) will almost always be a leader."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=hitpoints
        title= _ "Hitpoints and Experience"
        text= "<img>src=help/hpxp.png align=right float=yes</img>" + _ "Each unit has a certain number of <italic>text='hitpoints'</italic> (HP). If the hitpoints of a unit drop below 1, the unit dies. Each unit also has a certain number of <italic>text='experience points'</italic> (XP). A freshly recruited unit starts with no experience points, and gains experience by fighting enemies." +
            "

" +
            _ "The hitpoints and experience points are both indicated in the status pane using two numbers (the current value and the maximum value the unit can have)." + "

<img>src=help/hp-bars.png align=left float=yes</img>" + _ "The hitpoints are also indicated by an energy bar next to each unit, which is green, yellow or red. A unit with at least 1 experience point has a blue experience bar, which turns white as the unit is about to <ref>dst='advancement' text='advance'</ref>."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=advancement
        title= _ "Advancement"
        text= _ "If both units survive a combat, they gain a number of experience points equal to the level of the unit they’re fighting. If a unit kills another in combat, however, it gains much more experience — 4 for a level 0 unit, 8 for level 1, 16 for level 2, 24 for level 3, and so forth." + _ "

Units have a certain amount of experience required to advance (this is 20% less for units with the Intelligent trait). Once they achieve this amount, they immediately advance to the next level, healing fully in the process. In some cases, you will be given a choice of advancement options." + _ "

While most units have three levels, not all do. Occasional units (such as <ref>dst='unit_Mage' text='magi'</ref>) may have four. Once a unit has reached its maximum level, it may have an <italic>text='After Maximum Level Advancement'</italic> (AMLA) available to it. The AMLA will modify the unit each time the unit reaches the experience goal, but the unit will remain the same level. The typical AMLA effect is for the unit to raise the maximum HP by 3 and full-heal it. The first AMLA will normally be reached with 150 XP gained (120 XP for intelligent units). However, gaining an AMLA becomes progressively harder for each AMLA the unit receives, and so it is usually more useful to try to advance your lower level units."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=movement
        title= _ "Movement"
        text="<img>src=help/moving1.png align=left float=yes</img>" + "<img>src=help/moving2.png align=left float=yes</img>" + _ "Movement in <italic>text='Battle for Wesnoth'</italic> is simple. Click on the unit you wish to move to select it, then click on the hex you wish to move it to. When a unit is selected, everywhere it can move this turn will be highlighted, and all other hexes on the map are made dull. Mousing over a highlighted hex shows the defense rating the unit would have if you moved it to that hex. Mousing over a dull hex will also show the number of turns required to reach it, and clicking will cause the unit to move towards it by the fastest route over this and subsequent turns. If you don’t use up all of a unit’s movement when you first move a unit, you may move it again. This is useful when having two units switch places. Attacking with a unit will use up its movement. Ending a move in a village you don’t already own will also use up a unit’s movement, but will still allow it to attack." + _ "

Each unit has a certain number of movement points which are used up when moving into a new hex, depending on the Terrain of that particular hex. For instance, grassland nearly always costs 1 movement point to enter. Exactly how many movement points are spent entering a hex depends on the unit type — in forest, elvish units only spend 1 movement point, most human and orc units spend 2, while horsemen spend 3. You can learn how many movement points a unit requires to enter a certain terrain type by right-clicking on it, selecting <bold>text='Unit Description'</bold>, and then looking at <bold>text='Terrain Modifiers'</bold>." + _ "

Another thing to keep in mind while moving is <italic>text='zones of control'</italic>. Each unit — except for level 0 units — generates a zone of control in the hexes immediately surrounding it, and any enemy unit entering those hexes immediately ends its movement. Learning how to use zones of control to your advantage is an important part of Wesnoth, as only <ref>dst='ability_skirmisherskirmisher' text='skirmishers'</ref> can ignore zones of control." + _ "

To see where the enemy can move to during their next turn, press Ctrl-v or Cmd-v. Ctrl-b or Cmd-b shows where the enemy could move, if your units were not on the map to block their progress."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=shroud_and_fog
        title= _ "Shroud and Fog of War"
        text= _ "In some scenarios, parts of the map will be hidden from you. There are two mechanisms that can be used separately or together. The <italic>text='shroud'</italic> hides both the terrain and any units at a location. However, once it is cleared, you can always see that location. The <italic>text='fog of war'</italic> only hides units and ownership of villages (other than by you or your allies). The fog of war is cleared temporarily when you have units nearby, but returns when they leave. Both the shroud and the fog of war are cleared by units. Each unit clears locations adjacent to those within one turn’s move (ignoring zones of control and enemy units).

Normally you can undo a unit’s movement, as long as an event with a randomized result has not occurred, such as combat or recruitment (as most units receive random traits when recruited). Exploring hidden terrain by clearing shroud or fog will also prevent undos to a previous state. You may wish to activate <bold>text='Delay Shroud Updates'</bold> in the actions menu. This will prevent units from clearing shroud or fog until the next randomized event or a manual update via <bold>text='Update Shroud Now'</bold> (or the end of your turn) and thereby preserve your ability to undo movement."
    [/topic]
    # wmllint: markcheck on

    [topic]
        id=saveload
        title= _ "Save-loading"
        text= _ "Random numbers are part of Wesnoth, attacks can fail and units can die due to bad luck. This is an expected part of the game, and one of the aims of the game is that a sufficiently skilled player should be able to complete all of the mainline campaigns, on hard, without needing to save-load. Going back to a previous turn to try a different strategy is a part of learning the game, but we recommend against reloading merely to try the same strategy again while hoping for better luck.

One of the challenges of the game is to work out how to protect your heroes. Small risks quickly build up: if you have five important units, and they each have just a 1% chance of death each turn, you can <italic>text='expect'</italic> one of them to die about every 20 turns. So, you’ll rarely make it through a scenario without having it happen.

The following points are under discussion on the forums. At least for the 1.15.x series before 1.16.0 please assume that the forum threads are more authoritative than the text on this page.

In the mainline campaigns, on hard:
• A sufficiently skilled player will have a good chance to win each scenario on the first time that they see that scenario, without foreknowledge of what will happen.
• This assumes that the player picks up all of the clues given in the dialogue.
• There are more experience points available than on easy, and the player will be able to train enough troops to cope with losing some L2 or L3 units.

That said, it’s a game; the best way to play it is whichever way gives you the most enjoyment."
    [/topic]

    [topic]
        id=whylost
        title= _ "Learning from Losses"
        text= _ "<italic>text='Why did I lose that scenario?'</italic>

One of the most difficult parts of Wesnoth is understanding why a scenario was lost.

When you first start playing, you will probably lose some scenarios. That is normal, and is part of learning the game. When that happens, try to learn from your mistakes: watch the replay, try to understand what you did wrong, then <ref>dst='saveload' text='restart the scenario'</ref> and try again.

Some common reasons for losing a scenario are:

• Playing a campaign at too high a <ref>dst='..gameplay' text='difficulty level'</ref>. Try restarting the scenario at an easier difficulty.

• Playing a poor strategy: for example, recruiting the wrong types of units, fighting at the wrong <ref>dst='time_of_day' text='time of day'</ref>, not taking advantage of terrain features or units’ special abilities, and so on.

• Missing clues. Often there will be hints in the campaign’s story and dialog about what to expect from a difficult scenario and how to prepare for it. If you have a loyal mage on your side, take the time to listen to its advice; it may save your life.

• Barely scraping a victory in a previous scenario. At all difficulties except “Beginner” (TODO: and “Easy”?), campaigns assume that you will have some <italic>text='carryover gold'</italic> and some advanced units on your <italic>text='recall list.'</italic> (These concepts are explained in the tutorial.) If you win a scenario but lose most of your advanced units and much of your gold, the following scenario may be very difficult to beat, even for a more experienced player. If you find yourself in this situation, you may try to go back a scenario or two and win them more convincingly, or change to an easier difficulty. (However, remember that <italic>text='some'</italic> losses are expected, particularly at higher difficulties.)

• Poor gold management. At higher difficulties, managing gold — capturing villages to increase the income, and using low-level units and fresh recruits to reduce the spending — becomes important. If you use many high-level units, you might win a scenario easily but have not enough gold carryover for the next scenario. (This would be an example of “barely scraping a victory”.)

<header>text='Unlikely reasons'</header>

In addition to the common reasons, listed above, there are a few other reasons which are unlikely, though not impossible. They are:

• You may have played a strategy that the campaign developer did not anticipate, and ended up with a set of high-level units not suitable for the next scenario.

• You may have found a scenario that can only be won on the second or third time through, whether by requiring above-average luck or by expecting the players to have foreknowledge — to know what surprises are coming up before they happen. (It is under discussion whether foreknowledge is expected at the highest difficulties. Requiring above-average luck, however, would qualify as a bug.)

• Unusually-bad luck. Whether an attack hits or misses is random, so it could happen that the enemy was very lucky and had many hits, while you were very unlucky and had many misses. However, this is a very rare occurrence, virtually unheard of in all but the shortest, smallest scenarios. In fact, losses are more commonly caused by playing a <italic>text='bad'</italic> strategy despite having <italic>text='above-average'</italic> luck, than by playing a <italic>text='good'</italic> strategy but having <italic>text='below-average'</italic> luck. Moreover, merely having “below-average” luck does not excuse a loss; having below-average luck is perfectly normal, and scenarios are designed to be winnable even with below-average luck. It is only exceedingly bad luck, over multiple turns, that we mean here.

Be wary of attributing a loss to any of these reasons. If you are not a veteran player, it is far more likely that your loss was caused by one of the <italic>text='common'</italic> errors, listed above, and is not indicative of a bug in the campaign. However, if you still think you found a bug, then by all means, report it!

The “Damage Calculations” dialog shows some statistics that can help determine whether a match was very lucky or very unlucky. However, reading the statistics is no substitute to watching the replay and looking for strategic mistakes, or small bits of luck at critical points in the engagement.

TODO: link to a forum thread where new players can post their replays and get review/corrections (like https://forums.wesnoth.org/viewtopic.php?f=3&t=39944 but specifically for new players)?
"
    [/topic]

    # wmllint: markcheck off
    [topic]
        id=combat
        title= _ "Combat"
        text= _ "Combat in <italic>text='Battle for Wesnoth'</italic> always takes place between units in adjacent hexes. Click on your unit, and click on the enemy you want to attack: your unit will move towards the enemy unit, and when they are next to each other, combat will begin. The attacker and defender alternate strikes until each has used their allotted number of strikes. The attacker chooses one of its weapons to attack with, and the defender retaliates with one of its attacks of the same type. There are two types of attacks: <italic>text='melee'</italic>, which usually involves weapons such as swords, axes or fangs; and <italic>text='ranged'</italic>, which usually involves weapons such as bows, spears and fireballs." + _ "

<header>text='Order and Number of Strikes'</header>" + _ "

The attacker gets the first strike, then the defender retaliates. Each strike either hits, doing a given amount of damage, or misses, doing no damage at all. Strikes alternate until each unit has used up all of its strikes. The number of strikes a unit has varies; for instance, an elvish fighter with a 5×4 attack may strike 4 times, each successful strike dealing 5 damage, while an orcish grunt with a 9×2 attack can only strike twice (but at 9 damage for each hit)." + _ "

<header>text='Chance to Hit'</header>" + _ "

Every unit has a chance of being hit, based on the <italic>text='terrain'</italic> it is in. This is shown in the status pane, and may also be found by right-clicking a unit, selecting <bold>text='Unit Description'</bold>, and then looking at <bold>text='Terrain Modifiers'</bold>. For instance, many elves have a defense rating of 70% in forest, so a unit attacking them has only a 30% chance of hitting. Conversely, the elf’s chance of hitting the attacker in return depends on what terrain the attacker is in." + _ "

There are two exceptions to this rule: <ref>dst='weaponspecial_magical' text='magical attacks'</ref> and <ref>dst='weaponspecial_marksman' text='marksmen'</ref>. Magical attacks always have a 70% chance to hit, regardless of terrain, and, when used offensively, marksmen always have at least a 60% chance to hit, regardless of terrain." + _ "

<header>text=Damage</header>" + _ "

Each strike which hits causes a base amount of damage depending on the attack type. For instance, an elvish fighter with a 5×4 attack does 5 base damage. This is usually modified by two things: <ref>dst='damage_types_and_resistance' text='resistance'</ref> and <ref>dst='time_of_day' text='time of day'</ref>. To see how base damage is modified by the circumstances, select <bold>text='Damage Calculations'</bold> in the attack selection menu." + _ "

A few units have special <ref>dst='..abilities_section' text='abilities'</ref> which affect damage dealt in combat. The most common of these is <ref>dst='weaponspecial_charge' text='charge'</ref>, which doubles the damage dealt by both attacker and defender when the unit with charge attacks."
    [/topic]
    # wmllint: markcheck on

    [topic]
        id=damage_types_and_resistance
        title= _ "Damage Types and Resistance"
        text= _ "In Wesnoth, there are three types of damage usually associated with physical attacks: <italic>text='blade, pierce, and impact damage'</italic>. Additionally, there are three further types of damage usually associated with magical attacks: <italic>text='fire, cold, and arcane attacks'</italic>. Different units may have resistances which alter the damage which they take from certain damage types." + _ "

Resistances work very simply: if a unit has 40% resistance against a damage type, then it will suffer 40% less damage when hit with that damage type. It is also possible for a unit to be vulnerable against some damage types. If a unit has −100% resistance against a damage type, it will suffer 100% more damage when hit by that type." + _ "

For example, skeletons are highly resistant to blade and pierce damage, but are vulnerable to impact and fire damage, and extremely vulnerable to arcane damage." + _ "

If a strike is determined to hit, it will always do at least 1 point of damage. This applies even if the defender has 100% resistance to the damage type."
    [/topic]

    # wmllint: markcheck off
    [topic]
        id=orbs
        title= _ "Orbs"
        text= _ "On top of the energy bar shown next to each unit of yours is an orb. For units you control, this orb is:" + "

<img>src=help/orb-green.png align=here</img>" + _ " green if it hasn’t moved this turn," + "
<img>src=help/orb-yellow.png align=here</img>" + _ " yellow if it has moved, but could still move further or attack, or" + "
<img>src=help/orb-red.png align=here</img>" + _ " red if it can no longer move or attack, or the user ended the unit’s turn." + "
<img>src=help/orb-blue.png align=here</img>" + _ " blue if the unit is an ally you do not control." + "
<img>src=help/orb-none.png align=here</img>" + _ " Enemy units have no orb on top of their energy bar."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=time_of_day
        title= _ "Time of Day"
        text= _ "The time of day affects the damage of certain units as follows:

• <bold>text='Lawful'</bold> units get +25% damage in daytime, and −25% damage at night.
• <bold>text='Chaotic'</bold> units get +25% damage at night, and −25% in daytime.
• <bold>text='Neutral'</bold> units are unaffected by the time of day.
• <bold>text='Liminal'</bold> units get +25% damage during twilight." + _ "

The current time of day can be observed under the minimap in the status pane. For the usual day/night cycle, morning and afternoon count as day, first and second watch count as night:

" + _ "Dawn" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-dawn.png align=here</img>
" + _ "Morning" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-morning.png align=here</img>
" + _ "Afternoon" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-afternoon.png align=here</img>
" + _ "Dusk" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-dusk.png align=here</img>
" + _ "First Watch" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-firstwatch.png align=here</img>
" + _ "Second Watch" + " <jump>to=160</jump><img>src=misc/time-schedules/default/schedule-secondwatch.png align=here</img>
" + "
<img>src=misc/time-schedules/schedule-underground.png align=right float=yes</img>" + _"Keep in mind that some scenarios take place underground, where it is perpetually night!
" + "
<img>src=misc/time-schedules/schedule-underground-illum.png align=right float=yes</img>" + _"Some underground locations are illuminated. They are perpetually intermediate between day and night.
" + "
<img>src=misc/time-schedules/schedule-indoors.png align=right float=yes</img>" + _"Some role-playing scenarios take place indoors — these regions are similarly intermediate.
" + "
<img>src=misc/time-schedules/default/schedule-firstwatch.png~BLIT(misc/tod-bright.png) align=right float=yes</img>" + _"Finally, units with the <ref>dst='ability_illuminationilluminates' text='illuminates'</ref> ability and terrain features such as <ref>dst='terrain_lava' text='lava'</ref> change the time of day bonus around them."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=healing
        title= _ "Healing"
        text= _ "In combat, your units will inevitably take damage. There are several ways to heal your units. However, with the exception of resting, these do not stack; only one can occur per turn." + _ "

• <bold>text='Resting'</bold>: A unit which neither moves, attacks, nor is attacked will heal 2 HP in its next turn." + _ "
• <bold>text='Villages'</bold>: A unit which starts a turn in a village or <ref>dst='terrain_oasis' text='oasis'</ref> will heal 8HP. If the unit is poisoned, the poison will be cured instead." + _ "
• <ref>dst='ability_regeneratesregenerates' text='Regeneration'</ref>: Certain units (such as trolls) will automatically heal 8HP every turn. If the unit is poisoned, the poison will be cured instead." + _ "
• <bold>text='Healing units'</bold>: Units with the <ref>dst='ability_healingheals +4' text='Heals'</ref> ability will heal each allied adjacent unit, usually <ref>dst='ability_healingheals +4' text='4HP'</ref> or <ref>dst='ability_healingheals +8' text='8HP'</ref> per turn, or prevent Poison from causing that unit damage." + _ "
• <bold>text='Curing units'</bold>: Units with the <ref>dst='ability_curingcures' text='cures'</ref> ability will cure Poison in all allied adjacent units (in preference to healing, if it has that ability as well)." + _ "
• <bold>text='Advancement'</bold>: When a unit <ref>dst='advancement' text='advances'</ref>, it will heal fully. This can happen as soon as your unit gains enough experience, whether it is your turn or not." + _ "

Resting can be combined with other forms of healing, but villages, regeneration, healing and curing cannot combine with each other: the best option will be used. Finally, units heal fully between scenarios." + _ "

<bold>text='Advanced'</bold>" + _ "

Unlike other forms of healing, the heals ability will not take effect on the healed unit’s turn, but on the healer’s turn. This means that while a unit surrounded by several healers on the same side will only receive healing from one healer per turn, a unit surrounded by healers from several allied sides will be healed once on each of said allied sides’ turns."
    [/topic]
    # wmllint: markcheck on

    [topic]
        id=wrap_up
        title= _ "Wrap Up"
        text= _ "This concludes the fundamentals of Wesnoth. You might want to read up on basic strategy, or familiarize yourself with <ref>dst='..traits_section' text='traits'</ref> and <ref>dst='..abilities_section' text='abilities'</ref>, but you now know everything you need to know to play the <italic>text='Heir to the Throne'</italic> campaign. Have fun, and good luck!"
    [/topic]

    [topic]
        id=license
        title= _ "License"
        text="{COPYING.txt}"
    [/topic]

    # wmllint: markcheck off
    [topic]
        id=..traits_section
        title= _ "Traits"
        generator="contents:generated"
        text= _ "Traits are modifications that change a unit’s attributes slightly. They are usually randomly assigned to a unit when it is recruited. The traits available to a unit are largely determined by its <italic>text='race'</italic>." + _ "

Most units have two traits. However, goblins have only one trait, undead units are always assigned the single trait <italic>text='undead'</italic> and in some cases <italic>text='fearless'</italic>, and woses do not receive any traits. " + _ "

The traits that are available to most non‐undead units are <ref>dst='traits_intelligent' text='intelligent'</ref>, <ref>dst='traits_quick' text='quick'</ref>, <ref>dst='traits_resilient' text='resilient'</ref>, and <ref>dst='traits_strong' text='strong'</ref>." + _ "

Elves may also receive <ref>dst='traits_dextrous' text='dextrous'</ref>, and dwarves may receive <ref>dst='traits_healthy' text='healthy'</ref>. Trolls and certain humans may receive <ref>dst='traits_fearless' text='fearless'</ref>. Other traits which may be assigned include <ref>dst='traits_loyal' text='loyal'</ref>, <ref>dst='traits_feral' text='feral'</ref> and <ref>dst='traits_undead' text='undead'</ref>.

"
    [/topic]

    [topic]
        id=..terrains_section
        title= _ "Terrains"
        text= _ "Game maps feature a variety of terrains that affect both unit movement and a unit’s defensive capability in combat." + _ "

Terrains come in two types: <italic>text='basic'</italic> and <italic>text='mixed'</italic>." + _ "

<header>text='Basic Terrain Types'</header>" + _ "

Basic terrain types include Flat, Hills, Mountains, Sands, Water and Swamps. There are many more besides these — a list of the terrain types you have discovered can be found at the end of this page.

" + "<img>src='terrain/grass/green.png'</img>" + "<img>src='terrain/hills/regular.png'</img>" + "<img>src='terrain/mountains/dry-tile.png'</img>" + "<img>src='terrain/sand/desert.png'</img>" + "<img>src='terrain/water/coast-tile.png'</img>" + "<img>src='terrain/swamp/water-tile.png'</img>" + _ "

Every unit has a defense rating and a movement cost for each of the basic terrain types, and these values are listed in the unit’s help page. Basic terrain types may have unique properties like illumination effects as well." + _ "

<header>text='Mixed Terrain Types'</header>" + _ "

Mixed terrain types share the properties of multiple basic terrain types — units generally receive the <italic>text='best defense'</italic> and <italic>text='worst movement'</italic> of the underlying basic types when they move onto a mixed type. For example, this is the case with <italic>text='forested hills'</italic>, <italic>text='sand hills'</italic>, and <italic>text='cave hills'</italic>.

" + "<img>src='terrain/hills/regular.png~BLIT(terrain/forest/pine-tile.png)'</img>" + "<img>src='terrain/hills/desert.png'</img>" + "<img>src='terrain/cave/hills-variation.png'</img>" + _ "

One notable exception is bridge terrains, such as <italic>text='bridges over shallow water'</italic>, <italic>text='fords'</italic>, and <italic>text='bridges over chasms'</italic>. Fords are easily passable to both merfolk and humans — all units moving on a ford enjoy the best defense and best movement out of flat and shallow water, rather than the worse movement of the two. Similarly, bridges over chasms are passable to nonfliers (unsurprisingly).

" + "<img>src='terrain/water/coast-tile.png~BLIT(terrain/bridge/wood-se-nw.png)'</img>" + "<img>src='terrain/water/ford-tile.png'</img>" + "<img>src='terrain/chasm/regular-tile.png~BLIT(terrain/cave/chasm-stone-bridge-sw-ne-tile.png)'</img>" + _ "

Land-based villages generally give the best defense and movement as well. These villages are mixed terrains, based on the village terrain type, together with hill, swamp, and cave, respectively.

" + "<img>src='terrain/hills/regular.png~BLIT(terrain/village/human-hills-tile.png)'</img>" + "<img>src='terrain/swamp/water-tile.png~BLIT(terrain/village/swampwater-tile.png)'</img>" + "<img>src='terrain/cave/floor6.png~BLIT(terrain/village/cave-tile.png)'</img>" + _ "

Finally, water villages are generally inhospitable to land units, and do not give defense or movement benefits associated with the village terrain type. Instead, they count only as water tiles.

" + "<img>src='terrain/water/coast-tile.png~BLIT(terrain/village/coast-tile.png)'</img>" + _ "

You can see what basic types a mixed terrain is comprised of by mousing over its hex and checking the terrain type icons displayed in the upper right (under the default theme)." + _ "

You can see what type of behavior the mixed terrain gives by mousing over its hex and viewing the <italic>text='terrain description'</italic> by either pressing the hotkey, or right clicking and selecting from the context menu." + _ "

<header>text='Defense Caps'</header>" + _ "

Some units have <italic>text='defense caps'</italic> for a particular basic terrain type. These units suffer a penalty on mixed terrains with that type — their defense cannot exceed the cap." + _ "

For example, the <ref>text='Loyalist Cavalryman' dst='unit_Cavalryman'</ref> has a defense rating of 30% on forests, and a defense cap for forests. Thus, on forested hills, he has a defense rating of 30% rather than 40%, because the mixed rating cannot exceed the cap." + _ "

If a unit has a defense cap for some terrain, it is always the same as its defense rating on that terrain (it cannot be larger)." + _ "

<header>text='Basic Terrain Types'</header>

"
        generator="contents:generated"
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=..addons
        title= _ "Add-ons"
        text = _ "The degree of customization offered by the Wesnoth engine allows players to create their own game content, including new scenarios, campaigns, and much more beyond what is offered in the official content bundled with the game.

"
        generator="contents:addons"
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=using_addons
        title= _ "Using Add-ons"
        text= _ "The game supports different types of add-on content, which are not all available in every gameplay mode." + _ "

<header>text='Campaigns and Scenarios'</header>" + _ "

Single-player campaigns are collections of scenarios that fit together to tell a story. Both stand-alone scenarios—if intended to be played as such—and regular campaigns are available from the <italic>text='Campaigns'</italic> menu at the title screen." + _ "

<header>text='Multiplayer Campaigns, Scenarios, and Map Packs'</header>" + _ "

<italic>text='Multiplayer'</italic> games can be played in fully customized, scripted scenarios or even specially designed campaigns. There are also packs providing sets of individual multiplayer scenarios." + _ "

<header>text='Multiplayer Eras and Factions'</header>" + _ "

For gameplay purposes, various races of creatures in the world cooperate with each other in factions. Factions are grouped in balanced sets with a common theme; for example, the main factions of Wesnoth can be found in the included Default Era.

In <italic>text='Multiplayer'</italic> mode, you can choose an era when creating a new game, and players can pick from the available factions for that era when setting up their sides and teams." + _ "

You can see what eras you have loaded in the <ref>text='eras' dst='..eras_section'</ref> of the help." + _ "

<header>text='Modifications'</header>" + _ "

Modifications are optional scenario- and era-independent scripts that can alter the default ruleset in various ways. You can choose and configure modifications when creating a new game." + _ "

<header>text='Cores'</header>" + _ "

Cores enable total conversion of The Battle for Wesnoth. A core can replace all the content in Wesnoth: when a different core is loaded, the regular units, terrains and the like do not exist.

Cores allow a significantly different game experience: for example, a World War II campaign, or even a different game altogether, as long as it can be represented as a hexagonal map with ’units’ in some way." + _ "

<header>text='Creator Resources'</header>" + _ "

Content authors can use resource packs available on the add-ons server to enrich their own content with existing assets such as images, music, and code. These are not generally intended for direct use in-game; however, other playable add-ons may depend on them and suggest or require their installation during download."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=installing_addons
        title= _ "Installing Add-ons"
        text = _ "User-made add-ons can be obtained and updated through the <italic>text='Add-ons'</italic> option in the main menu. After connecting to the add-ons server (by default <italic>text='add-ons.wesnoth.org'</italic>), you will be presented with a list of add-ons available on the server for downloading.

The installation status for each add-on is shown below each entry. For add-ons that are <italic>text='upgradable'</italic> or <italic>text='outdated'</italic> on the server, their installed and published versions will be shown in the <italic>text='Version'</italic> column.

To search for add-ons by keywords, type any relevant terms in any order in the search box, separated by spaces. You can also sort the add-on list by clicking the column headers. It is also possible to choose to only display add-ons of specific categories by clicking on the <bold>text='Type'</bold> dropdown.

To install an add-on, select it from the list and click the <bold>text='+'</bold> icon, or simply double-click on the add-on’s title. If the window is too small to show them inline, the <bold>text='Addon Details'</bold> button provides you with additional details about the add-on, such as its full description, installation status, and available translations."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=removing_addons
        title= _ "Removing Add-ons"
        text = _ "To remove add-ons, choose <bold>text='Remove Add-ons'</bold> in the add-ons server connection dialog. You will be presented with options to remove any number of add-ons you currently have installed.

It is not possible to remove add-ons for which there is publishing information (<italic>text='.pbl'</italic> files) attached, in order to prevent its accidental loss. If necessary, you must manually delete the information files or the add-ons themselves using a file manager provided by your platform."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=..commands
        title= _ "Commands"
        generator="contents:commands"
    [/topic]

    [topic]
        id=general_commands
        title= _ "General Commands"
        # wmllint: display on
        text= _ "These commands can either be issued via the command line by prefixing them with ':' (as shown here) or via the chat by prefixing them with '/' (press 'm' first to open the chat line).

" + "<header>text=':clear'</header>" + _ "
Clear chat messages.

" + "<header>text=':debug'</header>" + _ "
Switch debug mode on (does not work in multiplayer). See <ref>dst='debug_commands' text='debug mode commands'</ref>.
Debug mode is turned off by quitting the game or :nodebug.

" + "<header>text=':droid [<side>] [on|off]'</header>" + _ "
Set or toggle player on side between human and AI player. The player/client who controls that side needs to issue this command. If no second parameter is supplied, toggle between human and AI. If it is ‘on’, set an AI controller. If it is ‘off’ set a human controller. Defaults to the currently active side if no parameter is supplied.

" + "<header>text=':controller <side>'</header>" + _ "
Display the controller status of a side.

" + "<header>text=':fps'</header>" + _ "
Toggle the display of the current frames per second.

" + "<header>text=':log <level> <domain>'</header>" + _ "
Switch a log domain to a different log level.

" + "<header>text=':refresh'</header>" + _ "
Redraws the screen and reloads any image files that have been changed.

" + "<header>text=':theme'</header>" + _ "
Bring up theme selection menu.

" + "<header>text=':q or :q!'</header>" + _ "
Quit the scenario (without prompting).

" + "<header>text=':w'</header>" + _ "
Save the game (without prompting).

" + "<header>text=':wq'</header>" + _ "
Save the game and quit the scenario (without prompting)."
        # wmllint: display off
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=mp_commands
        title= _ "Multiplayer Commands"
        text= _ "These commands can either be issued via the command line by prefixing them with ':' (as shown here) or via the chat by prefixing them with '/' (press 'm' first to open the chat line).

" + "<header>text=':ban <username>'</header>" + _ "
Ban a user in a multiplayer game by the IP address used by that username and kick him. Can be used on users not in the game but on the server. (Of course they won’t be kicked then.)

" + "<header>text=':control <side> <username>'</header>" + _ "
Change the controller for side (write here the number of the side) to username (write here the nickname of the player or observer). You can check what side belongs to which player in the <bold>text='Scenario Settings'</bold> dialog (Press the <bold>text='More'</bold> button in the <bold>text='Status Table'</bold> (alt+s by default) to get there.). The host can change control of any side.

" + "<header>text=':give_control'</header>" + _ "
Launch a dialog to assist the host in changing the human controllers of sides.

" + "<header>text=':idle <side>'</header>" + _ "
Toggle the idle state for a side. The host may make a side idle after a network disconnection.

" + "<header>text=':kick <username>'</header>" + _ "
Kick a user in multiplayer. They will be able to rejoin the game. If you just want to change control of their side(s) use the :control command instead.

" + "<header>text=':m <username> or :msg <username> or :whisper <username>'</header>" + _ "
Send a private message to a user. When in a game, it is not possible to send private messages to players who are currently controlling a side in the same game.

" + "<header>text=':mute [<username>]'</header>" + _ "
Mute a specific observer. If no username is supplied the muted usernames are displayed.

" + "<header>text=':muteall'</header>" + _ "
Toggle muting/silencing of all observers on/off.

" + "<header>text=':unban <username>'</header>" + _ "
Unban a user in a multiplayer game by the IP address used by that username. Can be used on users not in the game but on the server.

" + "<header>text=':unmute [<username>]'</header>" + _ "
Unmute a specific observer. If no username is supplied the list of muted observers is cleared."
    [/topic]
    # wmllint: markcheck on

    # wmllint: markcheck off
    [topic]
        id=debug_commands
        title= _ "Debug Mode Commands"
        text= _ "These commands can either be issued via the command line by prefixing them with ':' (as shown here) or via the chat by prefixing them with '/' (press 'm' first to open the chat line).

" + "<header>text=':choose_level or :cl'</header>" + _ "
Brings up a menu for choosing a scenario to immediately advance to in a campaign.

" + "<header>text=':create <unit type id>'</header>" + _ "
Create a unit of the specified type on the selected hex.

" + "<header>text=':fog/shroud'</header>" + _ "
Toggle fog/shroud for the current side.

" + "<header>text=':gold <amount>'</header>" + _ "
Adds the specified amount to the current side’s gold.

" + "<header>text=':n'</header>" + _ "
Immediately advances to the next scenario in a campaign.

" + "<header>text=':set_var <variable=value>'</header>" + _ "
Manually set a gamestate variable to value.

" + "<header>text=':show_var <variable>'</header>" + _ "
Show a gamestate variable.

" + "<header>text=':throw/fire <event>'</header>" + _ "
Manually fire the specified event.

" + "<header>text=':unit <key=value>'</header>" + _ "
Modifies the specified property of the selected unit. Example: :unit hitpoints=100

" + "<header>text=':unit <advances=N>'</header>" + _ "
Makes the selected unit level up N times. Example: :unit advances=2"
    [/topic]
    # wmllint: markcheck on
[/help]
