#textdomain wesnoth
# Utility macros for use in the objectives dialog or for defining the whole
# [objectives] tag.

#define SET_OBJECTIVES SIDE SUMMARY_TEXT NOTE_TEXT CONDITION_WML
    # Sets the objectives for a given player
    # Side 0 means every player. Does not affect gameplay,
    # except that it tells the player what the objectives of a scenario are.
    #
    # For example, we could set the objective for all players to: "survive for
    # 3 turns" with this:
    #! {SET_OBJECTIVES 0 "Survive for 3 turns" () ()}
    #
    [objectives]
        side = {SIDE}
        summary = {SUMMARY_TEXT}
        note = {NOTE_TEXT}
        {CONDITION_WML}
    [/objectives]
#enddef

#define VICTORY_CONDITION DESCRIPTION
    # Used in conjunction with SET_OBJECTIVES this sets a victory condition
    # (marked green).
    #
    # For example we could tell player 2 to win by killing all other players
    #! {SET_OBJECTIVES 0 "Kill eachother." (
    #!    {VICTORY_CONDITION "Kill all other players."}
    #! )}
    #
    [objective]
        condition = "win"
        description = {DESCRIPTION}
    [/objective]
#enddef

#define DEFEAT_CONDITION DESCRIPTION
    # Used in conjunction with SET_OBJECTIVES this sets a defeat condition
    # (marked red).
    #
    # For example we could tell all players that they lose if they die.
    #! {SET_OBJECTIVES 0 "Survive." (
    #!    {DEFEAT_CONDITION "Death of your leader."}
    #! )}
    #
    [objective]
        condition = "lose"
        description = {DESCRIPTION}
    [/objective]
#enddef

#define TURNS_RUN_OUT
    [objective]
        description= _ "Turns run out"
        condition=lose
    [/objective]
#enddef

#define EARLY_FINISH_BONUS_NOTE
_"Early finish bonus."#enddef

#define NO_EARLY_FINISH_BONUS_NOTE
_"No early finish bonus."#enddef

#define EARLY_FINISH_BONUS_CAPTION
# Deprecated; use the below EARLY_FINISH_BONUS_FOOTNOTE instead
_"<small>(early finish bonus)</small>"#enddef

#define EARLY_FINISH_BONUS_FOOTNOTE
"<span foreground='white'><small> " + _"(early finish bonus)" + "</small></span>"#enddef

#define NO_GOLD_CARRYOVER_NOTE
_"No gold carried over to the next scenario."#enddef

#define NEW_GOLD_CARRYOVER_NOTE_100
    _"
100% of finishing gold carried over to the next scenario."#enddef

#define NEW_GOLD_CARRYOVER_NOTE_40
    _"
40% of finishing gold carried over to the next scenario."#enddef

#define NEW_GOLD_CARRYOVER_NOTE_20
    _"
20% of finishing gold carried over to the next scenario."#enddef

#define OBJECTIVE_FOOTNOTE TEXT
"<span foreground='white'><small> " + {TEXT} + "</small></span>"
#enddef

#define ALTERNATIVE_OBJECTIVE_CAPTION
caption= _ "Alternative objective:"
#enddef

#define BONUS_OBJECTIVE_CAPTION
caption= _ "Bonus objective:"
#enddef

#define ALTERNATIVE_OBJECTIVE OBJECTIVE_TEXT
    [objective]
        {ALTERNATIVE_OBJECTIVE_CAPTION}
        description={OBJECTIVE_TEXT}
        condition=win
    [/objective]
#enddef

#define ALTERNATIVE_OBJECTIVE_BONUS OBJECTIVE_TEXT
    [objective]
        {ALTERNATIVE_OBJECTIVE_CAPTION}
        description={OBJECTIVE_TEXT}+{EARLY_FINISH_BONUS_FOOTNOTE}
        condition=win
    [/objective]
#enddef
